## Back-end server configuration playbook goes here.
---
- name: " add Node.js from Nodesource"
  become: true 
  shell: |
    echo insecure > ~/.curlrc && \
    echo 'Acquire::https::deb.nodesource.com::Verify-Peer "false";' > /etc/apt/apt.conf.d/80ssl-exceptions && \
    echo 'Acquire::https::deb.nodesource.com::Verify-Host "false";' >> /etc/apt/apt.conf.d/80ssl-exceptions
    curl -sl https://deb.nodesource.com/setup_13.x | sudo -E bash -

- name: " install node.js 13"
  become: true
  apt:
    name: ["nodejs"]
    state: latest
    update_cache: yes

- name: "install pm2 globally"
  npm: 
    name: pm2
    global: yes